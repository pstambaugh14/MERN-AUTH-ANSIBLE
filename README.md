# MERN-AUTH-ANSIBLE

created by: Patrick Stambaugh
Ansible Script for Deployment of MERN-based authentication application.
This is one of my first projects so please be kind.
This isn't of much use other than that of practice for myself. 
Either way, I am open to positive or constructive criticism, please no trolls.

# About

What is this exactly?  This is a MERN-stack based auth login application at its core.  I have added automation through Ansible and BASH scripting to be able to easily spin up this application on a fresh Centos 7 box.  I have also incorperated pm2 services for administration of the application and daemonized pm2 via systemctl/systemd.  In addition to this, I have also set HAProxy configs to use in a HA cluster with TLS/SSL if so desired.  

# Credits:

MERN Authentication app source code is courtesy of: Rishi Prasad (https://blog.bitsrc.io/@rishipr)
You can check out his original project with installation instructions at: https://blog.bitsrc.io/build-a-login-auth-app-with-mern-stack-part-1-c405048e3669 .
You can also directly view or download his code at: https://github.com/rishipr/mern-auth . 

## Completed Goals: (Changes and Ideas for Additions to be made after initial release)

- Goal: Add Secure Variables for safe credential storage. - Stored securely during the session with --ask-sudo-pass params in start script for ansible.
- Goal: Re-Create Script to have application integrate with Systemctl as a daemonized application. - pm2 startup.  Easy! :)
- Goal: Add PM2! :) -- Goal Achieved locally.  Will Script into Ansible once completed. --GOALLLL achieved! :)
- Goal: HTTPS via TLS 1.2 - Managed to get HTTPS via self-signed cert via modules in MERN stack.  
- Goal: Currently using HAProxy to load balance between two nodes using SSL Pass Thorugh.  Config file is posted.
- Goal: Daemonize pm2 via systemctl in Ansible script -- DONE!!!
- Goal: Added into script a prompt for URI, username, and password for MongoDB connection rather than having to manually edit keys.js.
- Goal: Add environment variables.  Done-ish.  Fixed the script so that it can be run universally.  Noticed I had my own local directories assigned to some configs and parts of scripts...
- Goal: Dockerize Image for Container deployment - done! https://cloud.docker.com/repository/docker/pstambaugh14/mernauthansible_api


## To-Do

- Fix redundant/unnessary Code - slowly but steadily
- Add to Ansible Script the deployment of an HAProxy server and configure nodes behind the load balancer.
- Use a custom SSL Cert - as opposed to the ones automatically generated by webpack...


## Notes

- ***All created in CentOS 7 - unsure if this will work in other distros.***
- *** This was created for educational purposes only.  I would not recommend using this in a production environment or anyone else's environment other than your own - and in a VM at that.  This script makes many changes to the Operating System and could affect other applications' functionality potentially - specifically, from the yum update.  This script is intended for a base operating system image - a clean slate.

## License

Created by Patrick Stambaugh. 
https://github.com/pstambaugh14/MERN-AUTH-ANSIBLE


